<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tusmatch - Accueil</title>
    <link rel="stylesheet" href="style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6243220405591714"
     crossorigin="anonymous"></script>
    <title>Tusmatch - Le jeu de mots quotidien</title>
    <meta name="description" content="Devinez le mot du jour en 6 essais. Un clone passionnant du Wordle en français.">
    <meta name="keywords" content="jeu, mot, wordle, français, tusmatch, deviner">

    <link rel="preload" as="image" href="assets/1.gif">
    <link rel="preload" as="image" href="assets/2.gif">
    <link rel="preload" as="image" href="assets/3.gif">
    <link rel="preload" as="image" href="assets/4.gif">
    <link rel="preload" as="image" href="assets/5.gif">
    <link rel="preload" as="image" href="assets/6.gif">
    <link rel="preload" as="image" href="assets/7.gif">
    <link rel="preload" as="image" href="assets/8.gif">
    <link rel="preload" as="image" href="assets/9.gif">
    <link rel="preload" as="image" href="assets/10.gif">
    <link rel="preload" as="image" href="assets/11.gif">
    <link rel="preload" as="image" href="assets/12.gif">

    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Tusmatch" />
    <link rel="manifest" href="/assets/site.webmanifest" />
</head>
<body>
    <!-- Auth UI -->
    <div id="auth-container" style="position: absolute; top: 20px; left: 20px; z-index: 2000;">
        <button id="btn-login-google" class="auth-btn hidden" title="Connexion Google">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="24" height="24">
        </button>
        
        <div id="user-profile-display" class="hidden" style="display: flex; align-items: center; gap: 15px; background: var(--tile-bg); padding: 5px 15px; border-radius: 30px; border: 1px solid var(--tile-border); box-shadow: 0 4px 10px rgba(0,0,0,0.2);">
            <div id="profile-clickable" style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                <img id="user-avatar-display" src="" style="width: 32px; height: 32px; border-radius: 50%; border: 2px solid var(--correct);">
                <span id="user-name-display" style="font-weight: bold; font-size: 0.95rem;">Joueur</span>
            </div>
            <div style="width: 1px; height: 20px; background: var(--tile-border);"></div>
            <button id="btn-logout" title="Déconnexion" style="background: none; border: none; cursor: pointer; opacity: 0.7; padding: 5px; display: flex; align-items: center; transition: opacity 0.2s;">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: var(--absent);"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
            </button>
        </div>
    </div>

    <button id="helpBtn" class="help-btn">?</button>
    <button id="leaderboardBtn" class="leaderboard-btn" title="Classement">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
            <path d="M4 22h16"></path>
            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
        </svg>
    </button>
    <button id="themeToggle" class="theme-switch">Thème</button>

    <!-- RULES MODAL -->
    <div id="rules-modal" class="rules-modal-overlay hidden">
        <div class="rules-modal-content">
            <button id="close-rules" class="rules-close-btn">×</button>
            <h2 style="margin-bottom: 20px; font-size: 1.5rem;">Comment jouer ?</h2>
            
            <div class="rules-section">
                <p style="margin-bottom: 20px; line-height: 1.6;">Devinez le mot en <strong>6 essais maximum</strong>. Après chaque tentative, les tuiles changent de couleur pour vous guider.</p>
            </div>

            <div class="rules-section">
                <div class="rule-example">
                    <div class="example-row">
                        <div class="example-tile correct">P</div>
                        <div class="example-tile">L</div>
                        <div class="example-tile">A</div>
                        <div class="example-tile">G</div>
                        <div class="example-tile">E</div>
                    </div>
                    <p>La lettre <strong>P</strong> est dans le mot et bien placée</p>
                </div>

                <div class="rule-example">
                    <div class="example-row">
                        <div class="example-tile">V</div>
                        <div class="example-tile present">O</div>
                        <div class="example-tile">I</div>
                        <div class="example-tile">L</div>
                        <div class="example-tile">E</div>
                    </div>
                    <p>La lettre <strong>O</strong> est dans le mot mais mal placée</p>
                </div>

                <div class="rule-example">
                    <div class="example-row">
                        <div class="example-tile">M</div>
                        <div class="example-tile">O</div>
                        <div class="example-tile absent">U</div>
                        <div class="example-tile">R</div>
                        <div class="example-tile">S</div>
                    </div>
                    <p>La lettre <strong>U</strong> n'est pas dans le mot</p>
                </div>

                <div class="rule-example">
                    <div class="example-row">
                        <div class="example-tile start-tile">P</div>
                        <div class="example-tile">A</div>
                        <div class="example-tile">R</div>
                        <div class="example-tile">I</div>
                        <div class="example-tile">S</div>
                    </div>
                    <p>La première lettre est toujours révélée pour vous aider</p>
                </div>
            </div>
        </div>
    </div>

    <!-- INVITE MODAL -->
    <div id="invite-modal" class="rules-modal-overlay hidden" style="z-index: 3000;">
        <div class="rules-modal-content" style="max-width: 400px;">
            <button id="close-invite" class="rules-close-btn">×</button>
            <h2 style="margin-bottom: 20px; font-size: 1.5rem;">Inviter un ami</h2>
            
            <div class="rules-section" style="text-align: center;">
                <p style="margin-bottom: 15px;">Partage ton code ami pour jouer ensemble !</p>
                
                <div style="background: var(--tile-bg); padding: 15px; border-radius: 10px; border: 1px solid var(--tile-border); margin-bottom: 20px;">
                    <div style="font-size: 0.9rem; opacity: 0.7; margin-bottom: 5px;">Ton Code Ami</div>
                    <div id="invite-my-code" style="font-size: 2rem; font-weight: bold; letter-spacing: 3px; user-select: all; cursor: pointer;" title="Cliquer pour copier">------</div>
                </div>

                <div style="margin-bottom: 20px;">
                    <p style="margin-bottom: 10px; font-weight: bold;">Ajouter un ami</p>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="invite-friend-input" class="lobby-input" placeholder="Code Ami (ex: A7B2X9)" style="margin: 0; flex: 1; text-transform: uppercase;">
                        <button id="btn-invite-add" class="lobby-btn" style="margin: 0; width: auto; padding: 0 15px;">Ajouter</button>
                    </div>
                </div>

                <div style="text-align: left;">
                    <p style="margin-bottom: 10px; font-weight: bold;">Tes Amis</p>
                    <div id="invite-friends-list" style="max-height: 200px; overflow-y: auto; border: 1px solid var(--tile-border); border-radius: 8px; padding: 10px; min-height: 100px;">
                        <p style="text-align: center; opacity: 0.6; font-size: 0.9rem; margin-top: 30px;">Connecte-toi pour voir tes amis</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="home-container">
        <h1>TUSMATCH</h1>
        
        <nav>
            <a href="game.html?mode=daily" class="menu-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24" fill="currentColor">
                    <path class="fa-secondary" opacity="0.4" d="M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40z"/>
                    <path class="fa-primary" d="M400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"/>
                </svg>
                Mot du Jour
            </a>

            <a href="game.html?mode=private" class="menu-btn btn-secondary">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                Match Privé
            </a>

            <a href="#" class="menu-btn btn-tertiary btn-disabled" onclick="event.preventDefault();">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="2" y1="12" x2="22" y2="12"></line>
                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                </svg>
                Match Public
                <span class="coming-soon-badge">Bientôt</span>
            </a>
        </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase-client.js"></script>
    <script src="auth.js"></script>
    <script src="home.js"></script>
</body>
</html>
